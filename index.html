<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Zayn!</title>
    <meta name="description"
        content="Celebrate Zayn's birthday with heartfelt wishes, joyful messages, and a beautiful gallery. Wishing Zayn a day filled with happiness, love, and unforgettable memories!">
    <link rel="preload" href="images/1.png" as="image">
    <link rel="preload" href="images/2.png" as="image">
    <link rel="preload" href="images/3.png" as="image">
    <link rel="preload" href="images/4.png" as="image">
    <link rel="preload" href="images/5.png" as="image">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0a0a2a, #1a1a3a);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            z-index: 10;
        }

        body,
        .container {
            position: relative;
            overflow: hidden;
            /* Optional: hides particles outside */
            height: 100vh;
            /* Make sure container has height */
        }

        .section {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px;
            background: rgba(0, 10, 30, 0.7);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0, 150, 255, 0.2);
            width: 90%;
            max-width: 600px;
            transition: all 0.5s ease;
        }

        /* Cake Section */
        .cake-container {
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .cake-container:hover {
            transform: scale(1.05);
        }

        .cake {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 0 auto 30px;
        }

        .cake-base {
            width: 160px;
            height: 70px;
            background: linear-gradient(to right, #ff6b6b, #ff8e8e);
            border-radius: 10px;
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
        }

        .cake-middle {
            width: 130px;
            height: 50px;
            background: linear-gradient(to right, #4ecdc4, #88d8b0);
            border-radius: 10px;
            position: absolute;
            bottom: 70px;
            left: 50%;
            transform: translateX(-50%);
        }

        .cake-top {
            width: 100px;
            height: 40px;
            background: linear-gradient(to right, #ffafbd, #ffc3a0);
            border-radius: 10px;
            position: absolute;
            bottom: 120px;
            left: 50%;
            transform: translateX(-50%);
        }

        .candle {
            width: 10px;
            height: 40px;
            background: #ffd700;
            position: absolute;
            bottom: 160px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 5px 5px 0 0;
        }

        .flame {
            width: 20px;
            height: 30px;
            background: linear-gradient(to top, #ff9a00, #ffd700, #fff);
            border-radius: 50% 50% 20% 20%;
            position: absolute;
            bottom: 200px;
            left: 50%;
            transform: translateX(-50%);
            animation: flicker 1.5s infinite alternate;
        }

        @keyframes flicker {
            0% {
                transform: translateX(-50%) scale(1);
                opacity: 0.8;
            }

            50% {
                transform: translateX(-50%) scale(1.05);
                opacity: 1;
            }

            100% {
                transform: translateX(-50%) scale(0.95);
                opacity: 0.9;
            }
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: #4ecdc4;
            text-shadow: 0 0 10px rgba(78, 205, 196, 0.5);
        }

        .subtitle {
            font-size: 1.2rem;
            margin-bottom: 30px;
            color: #88d8b0;
        }

        /* Name Input Section */
        .name-input-section {
            display: none;
        }

        .input-group {
            width: 100%;
            margin: 20px 0;
        }

        input {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1.1rem;
            text-align: center;
            outline: none;
            border: 2px solid rgba(78, 205, 196, 0.3);
            transition: all 0.3s ease;
        }

        input:focus {
            border-color: #4ecdc4;
            box-shadow: 0 0 15px rgba(78, 205, 196, 0.5);
        }

        input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .btn {
            background: linear-gradient(to right, #4ecdc4, #88d8b0);
            color: #0a0a2a;
            border: none;
            padding: 12px 30px;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            margin-top: 10px;
            box-shadow: 0 5px 15px rgba(78, 205, 196, 0.4);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(78, 205, 196, 0.6);
        }

        .btn:active {
            transform: translateY(1px);
        }

        /* Message Section */
        .message-section {
            display: none;
        }

        .message-container {
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .typewriter {
            font-size: 1.8rem;
            line-height: 1.6;
            color: #88d8b0;
            text-align: center;
            min-height: 150px;
            display: flex;
            align-items: center;
        }

        .cursor {
            display: inline-block;
            width: 3px;
            height: 1.8rem;
            background: #4ecdc4;
            margin-left: 5px;
            animation: blink 0.7s infinite;
        }

        @keyframes blink {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0;
            }
        }

        /* Gallery Section */
        .gallery-section {
            display: none;
            width: 100%;
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            background: rgba(10, 10, 42, 0.95);
            z-index: 20;
            padding: 20px;
            overflow: hidden;
        }

        .gallery-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 30;
            text-align: center;
        }

        .gallery-title {
            font-size: 4rem;
            text-shadow: 0 0 10px 20px rgba(0, 3, 208, 0.7);
            margin-bottom: 20px;
            font-weight: bold;
        }

        .gallery-title span {
            display: block;
        }

        .photo-container {
            position: absolute;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            transition: transform 0.3s ease;
            border: 3px solid rgba(255, 255, 255, 0.1);
        }

        .photo-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Floating animations */
        @keyframes float1 {
            0% {
                transform: translate(0, 0) rotate(0deg);
            }

            100% {
                transform: translate(20vw, -15vh) rotate(5deg);
            }
        }

        @keyframes float2 {
            0% {
                transform: translate(0, 0) rotate(0deg);
            }

            100% {
                transform: translate(-18vw, 12vh) rotate(-3deg);
            }
        }

        @keyframes float3 {
            0% {
                transform: translate(0, 0) rotate(0deg);
            }

            100% {
                transform: translate(15vw, 18vh) rotate(2deg);
            }
        }

        @keyframes float4 {
            0% {
                transform: translate(0, 0) rotate(0deg);
            }

            100% {
                transform: translate(-22vw, -10vh) rotate(-5deg);
            }
        }

        @keyframes float5 {
            0% {
                transform: translate(0, 0) rotate(0deg);
            }

            100% {
                transform: translate(25vw, 5vh) rotate(7deg);
            }
        }

        /* Particles */
        #particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: visible;
            z-index: 1000;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            background-color: hsla(180, 70%, 60%, 0.5);
            opacity: 0;
            transform-origin: center;
            will-change: transform, opacity;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            background: rgba(78, 205, 196, 0.5);
            animation: float-particle linear infinite;
        }

        @keyframes float-particle {
            to {
                transform: translateY(-100vh);
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .section {
                width: 95%;
                padding: 20px;
            }

            h1 {
                font-size: 2rem;
            }

            .gallery-title {
                font-size: 2.5rem;
            }

            .gallery-title span {
                font-size: 2.2rem;
            }
        }
    </style>
</head>

<body>
    <!-- Particles Background -->
    <div class="particles" id="particles"></div>
    <div id="particles" style="position: absolute; width: 100%; height: 100%; pointer-events: none;"></div>


    <!-- Cake Section -->
    <div class="container">
        <div class="section cake-section" id="cakeSection">
            <h1>Happy Birthday!</h1>
            <p class="subtitle">Click on the cake to begin the celebration</p>
            <div class="cake-container" id="cake">
                <div class="cake">
                    <div class="cake-base"></div>
                    <div class="cake-middle"></div>
                    <div class="cake-top"></div>
                    <div class="candle"></div>
                    <div class="flame"></div>
                </div>
            </div>
        </div>

        <!-- Message Section -->
        <div class="section message-section" id="messageSection">
            <h1>Special Message</h1>
            <div class="message-container">
                <div class="typewriter" id="typewriter"></div>
            </div>
            <button class="btn" id="continueToGallery">View Memories</button>
        </div>
    </div>

    <!-- Gallery Section -->
    <div class="gallery-section" id="gallerySection">
        <div class="gallery-center">
            <h1 class="gallery-title" id="galleryTitle">
                Happy Birthday, Zayn
            </h1>
        </div>
        <!-- Photo containers will be added dynamically -->
    </div>

    <script>
        // Elements
        const cakeSection = document.getElementById('cakeSection');
        // Removed nameInputSection and friendNameInput, submitNameBtn references
        const messageSection = document.getElementById('messageSection');
        const gallerySection = document.getElementById('gallerySection');
        const cake = document.getElementById('cake');
        const typewriterElement = document.getElementById('typewriter');
        const continueToGalleryBtn = document.getElementById('continueToGallery');
        const galleryTitle = document.getElementById('galleryTitle');

        // Hardcoded name
        const friendName = 'Zayn';

        // Messages for the typewriter effect
        const messages = [
            "I wish I could just show you how much you mean to me.",
            "I wish I could let you look into my mind so that you would see how much I'm in love with you.",
            "Anyway, leaving all that aside—happy birthday!",
            "May you achieve success in all aspects of your life.",
            "Wishing you the happiest of birthdays Zayn!"
        ];

        // Create particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');

                const size = Math.random() * 10 + 2;
                const posX = Math.random() * 100;
                const posY = Math.random() * 100; // random vertical start
                const duration = Math.random() * 10 + 10;
                const delay = Math.random() * 5;
                const opacity = Math.random() * 0.5 + 0.1;
                const hue = Math.random() * 60 + 170;

                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${posX}%`;
                particle.style.top = `${posY}%`;  // <-- Add this
                particle.style.animationDuration = `${duration}s`;
                particle.style.animationDelay = `${delay}s`;
                particle.style.opacity = opacity;
                particle.style.backgroundColor = `hsla(${hue}, 70%, 60%, ${opacity})`;

                particlesContainer.appendChild(particle);
            }
        }

        // Create gallery with floating images
        function createGallery() {
            const gallery = gallerySection;
            const galleryCenter = document.querySelector('.gallery-center');

            // Clear any existing photos except the galleryCenter
            const photoContainers = gallery.querySelectorAll('.photo-container');
            photoContainers.forEach(container => container.remove());

            // Create photo containers with real images
            for (let i = 1; i <= 5; i++) {
                const photoContainer = document.createElement('div');
                photoContainer.className = 'photo-container';

                // Set random position and size (mobile portrait ratio)
                const width = Math.random() * 100 + 75;
                const height = width * (4 / 3); // Height > width (portrait)
                const left = Math.random() * 80;
                const top = Math.random() * 80;

                photoContainer.style.width = `${width}px`;
                photoContainer.style.height = `${height}px`;
                photoContainer.style.left = `${left}%`;
                photoContainer.style.top = `${top}%`;

                // Set random animation
                const animations = ['float1', 'float2', 'float3', 'float4', 'float5'];
                const randomAnim = animations[Math.floor(Math.random() * animations.length)];
                photoContainer.style.animation = `${randomAnim} ${Math.random() * 20 + 20}s infinite alternate`;

                // Create and append actual image
                const img = document.createElement('img');
                img.src = `images/${i}.png`;
                img.alt = `Gallery Image ${i}`;
                img.style.width = '100%';
                img.style.height = '100%';
                img.style.objectFit = 'cover';
                img.loading = 'lazy';

                photoContainer.appendChild(img);
                gallery.appendChild(photoContainer);
            }
        }

        async function typeWriter(text, element, delay = 50) {
            element.textContent = '';  // Clear previous text
            for (let i = 0; i < text.length; i++) {
                element.textContent += text.charAt(i);
                await new Promise(resolve => setTimeout(resolve, delay));
            }
        }

        function popParticles() {
            const particles = document.querySelectorAll('#particles .particle');

            particles.forEach(particle => {
                particle.style.transition = 'none';
                particle.style.transform = 'scale(0)';
                particle.style.opacity = 0;

                // Trigger reflow so transition can apply after a tiny delay
                void particle.offsetWidth;

                particle.style.transition = 'transform 0.3s ease, opacity 0.3s ease';
                particle.style.transform = 'scale(1.5)';
                particle.style.opacity = 1;

                // Pop back to normal size after 300ms
                setTimeout(() => {
                    particle.style.transform = 'scale(1)';
                }, 300);
            });
        }

        // Event Listeners
        cake.addEventListener('click', async () => {
            popParticles(); // particles pop when cake clicked

            cakeSection.style.display = 'none';
            messageSection.style.display = 'flex';

            for (const message of messages) {
                await typeWriter(message, typewriterElement);
                await new Promise(resolve => setTimeout(resolve, 1000));
            }
            await typeWriter(`Happy Birthday, ${friendName}!`, typewriterElement);
        });

        continueToGalleryBtn.addEventListener('click', () => {
            popParticles(); // particles pop when continue clicked

            messageSection.style.display = 'none';
            gallerySection.style.display = 'block';
            galleryTitle.textContent = `Happy Birthday, ${friendName}!`;
            createGallery();
        });


        // Initialize
        createParticles();
    </script>
</body>

</html>
